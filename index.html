<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Pio X Plataforma Escolar</title>
    <style>
        :root {
            --color-primario: #0d47a1;
            --color-secundario: #1976d2;
            --color-fondo: #e3f2fd;
            --color-texto: #333;
            --color-blanco: #ffffff;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: var(--color-fondo);
            color: var(--color-texto);
        }

        /* Pantalla de acceso */
        #pantalla-acceso {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .acceso-card {
            background: var(--color-blanco);
            padding: 20px;
            border-radius: 10px;
            max-width: 380px;
            width: 100%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .acceso-card h1 {
            margin-top: 0;
            color: var(--color-primario);
            font-size: 1.4rem;
            text-align: center;
        }
        .acceso-card p {
            font-size: 0.9rem;
            color: #555;
            text-align: center;
        }
        .acceso-group {
            margin-top: 15px;
            font-size: 0.9rem;
        }
        .acceso-group label {
            display: block;
            margin-bottom: 4px;
            font-weight: bold;
        }
        .acceso-opciones {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 0.85rem;
        }
        .acceso-opciones label {
            font-weight: normal;
        }
        .acceso-input {
            width: 100%;
            padding: 8px;
            font-size: 0.9rem;
            border-radius: 4px;
            border: 1px solid #bbb;
        }
        .acceso-boton {
            width: 100%;
            margin-top: 15px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background: var(--color-primario);
            color: var(--color-blanco);
            font-size: 0.95rem;
            cursor: pointer;
        }
        .acceso-boton:hover {
            background: var(--color-secundario);
        }
        .acceso-error {
            margin-top: 8px;
            color: #b71c1c;
            font-size: 0.8rem;
            min-height: 16px;
        }

        header {
            background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
            color: var(--color-blanco);
            padding: 20px;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }
        header p {
            margin: 5px 0 0;
            font-size: 0.9rem;
        }
        nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            background: var(--color-primario);
        }
        nav a {
            color: var(--color-blanco);
            padding: 10px 14px;
            text-decoration: none;
            font-size: 0.9rem;
        }
        nav a:hover { background: var(--color-secundario); }
        .container {
            padding: 20px;
            max-width: 1100px;
            margin: 0 auto;
        }
        h2 {
            color: var(--color-primario);
            margin-top: 0;
        }
        .card {
            background: var(--color-blanco);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.08);
        }
        .card ul { padding-left: 20px; }
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.72rem;
            background: var(--color-secundario);
            color: var(--color-blanco);
            margin-right: 6px;
        }
        .info {
            font-size: 0.85rem;
            color: #555;
        }
        .tabla {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
        }
        .tabla th,
        .tabla td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: left;
        }
        .tabla th {
            background: #bbdefb;
        }
        details summary {
            cursor: pointer;
            font-weight: bold;
            margin-bottom: 5px;
        }
        details { margin-top: 10px; }
        .alerta {
            background: #fff3cd;
            border-left: 4px solid #ffca2c;
            padding: 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            margin-top: 10px;
        }
        .portada {
            margin: 15px 0 10px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        .portada img { width: 100%; display: block; }
        .portada-texto {
            text-align: center;
            font-size: 0.9rem;
            margin-top: 5px;
            color: #444;
        }
        .galeria {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        .galeria img {
            width: 100%;
            border-radius: 8px;
            border: 2px solid var(--color-blanco);
            box-shadow: 0 1px 4px rgba(0,0,0,0.15);
        }
        .filtros {
            margin: 10px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            font-size: 0.85rem;
        }
        .filtros label { font-weight: bold; }
        .filtros select {
            padding: 4px 6px;
            font-size: 0.85rem;
        }
        .rol-indicador {
            font-size: 0.8rem;
            color: #eee;
            margin-top: 4px;
        }
        footer {
            background: var(--color-primario);
            color: var(--color-blanco);
            text-align: center;
            padding: 15px;
            margin-top: 40px;
            font-size: 0.8rem;
        }
        @media (max-width: 600px) {
            header h1 { font-size: 1.4rem; }
            nav a {
                font-size: 0.8rem;
                padding: 8px 10px;
            }
            .filtros {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>

<body>

<!-- PANTALLA DE ACCESO -->
<section id="pantalla-acceso">
    <div class="acceso-card">
        <h1>San Pio X Plataforma Escolar</h1>
        <p>Ingrese para acceder a la información del 2º Año, paralelos A y B.</p>

        <div class="acceso-group">
            <label>Tipo de usuario</label>
            <div class="acceso-opciones">
                <label><input type="radio" name="rol" value="docente" checked> Docente / Administrador</label>
                <label><input type="radio" name="rol" value="familia"> Madre, padre o tutor</label>
            </div>
        </div>

        <div class="acceso-group">
            <label for="codigoAcceso">Código de acceso</label>
            <input type="password" id="codigoAcceso" class="acceso-input" placeholder="Escriba el código proporcionado">
        </div>

        <button class="acceso-boton" id="btnIngresar">Ingresar</button>
        <div class="acceso-error" id="mensajeError"></div>
    </div>
</section>

<!-- APLICACIÓN PRINCIPAL (OCULTA HASTA INGRESAR) -->
<div id="app" style="display:none;">
    <header>
        <h1>San Pio X Plataforma Escolar</h1>
        <p>2º Año - Paralelos A y B · Administrado por <b>William &amp; Franklin</b></p>
        <div class="rol-indicador" id="textoRol"></div>
    </header>

    <nav>
        <a href="#bienvenida">Inicio</a>
        <a href="#guia">Guía para Padres</a>
        <a href="#a-notas">Notas 2ºA</a>
        <a href="#b-notas">Notas 2ºB</a>
        <a href="#a-tareas">Tareas 2ºA</a>
        <a href="#b-tareas">Tareas 2ºB</a>
        <a href="#asistencia">Asistencia</a>
        <a href="#comunicados">Comunicados</a>
        <a href="#material">Material de apoyo</a>
        <a href="#faq">Preguntas frecuentes</a>
    </nav>

    <div class="container">

        <!-- PORTADA -->
        <section class="card" id="portada">
            <h2>Portada</h2>
            <div class="portada">
                <img src="imagenes/portada-ejemplo.jpg" alt="Unidad Educativa San Pio X">
            </div>
            <p class="portada-texto">
                San Pio X · 2º Año A y B
            </p>
        </section>

        <!-- BIENVENIDA -->
        <section id="bienvenida" class="card">
            <h2>Bienvenida</h2>
            <p>
                Estimadas madres y padres de familia:
            </p>
            <p>
                Les damos la bienvenida a la <b>San Pio X Plataforma Escolar</b>, creada para fortalecer la comunicación
                entre la unidad educativa y las familias, y para facilitar el seguimiento del proceso de aprendizaje
                de sus hijas e hijos de <b>2º Año, paralelos A y B</b>.
            </p>
            <p>Desde este espacio podrán revisar:</p>
            <ul>
                <li>Notas por área y trimestre.</li>
                <li>Tareas vigentes y fechas de entrega.</li>
                <li>Asistencia, atrasos y observaciones generales.</li>
                <li>Comunicados y avisos importantes.</li>
                <li>Material de apoyo para acompañar el estudio en casa.</li>
            </ul>
        </section>

        <!-- GUÍA PARA PADRES -->
        <section id="guia" class="card">
            <h2>Guía para Padres de Familia</h2>
            <ol>
                <li>
                    <b>Navegación básica</b><br>
                    Use el menú superior para ir directamente a:
                    Notas, Tareas, Asistencia, Comunicados y Material de apoyo.
                </li>
                <li>
                    <b>Paralelo correcto</b><br>
                    Revise siempre la sección de <span class="badge">2ºA</span> o <span class="badge">2ºB</span>
                    según corresponda.
                </li>
                <li>
                    <b>Actualización</b><br>
                    Las notas se actualizan por trimestre; las tareas y la asistencia, de forma periódica.
                </li>
                <li>
                    <b>Uso responsable</b><br>
                    La información es de uso interno de la comunidad educativa.
                </li>
            </ol>

            <div class="alerta">
                No se requiere usuario ni contraseña en la plataforma, solo el código de acceso proporcionado por la unidad educativa.
            </div>
        </section>

        <!-- NOTAS 2ºA -->
        <section id="a-notas" class="card">
            <h2>Notas - 2ºA</h2>
            <p class="info">
                Seleccione un estudiante para ver solo sus notas, o deje "Todos los estudiantes" para ver el listado completo.
            </p>

            <div class="filtros">
                <label for="filtroAlumno2A">Estudiante:</label>
                <select id="filtroAlumno2A"></select>
            </div>

            <table class="tabla" id="tablaNotas2A">
                <thead>
                    <tr>
                        <th>Estudiante</th>
                        <th>Área</th>
                        <th>Trimestre</th>
                        <th>Nota</th>
                        <th>Observación</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- NOTAS 2ºB -->
        <section id="b-notas" class="card">
            <h2>Notas - 2ºB</h2>
            <p class="info">
                Seleccione un estudiante para ver solo sus notas, o deje "Todos los estudiantes" para ver el listado completo.
            </p>

            <div class="filtros">
                <label for="filtroAlumno2B">Estudiante:</label>
                <select id="filtroAlumno2B"></select>
            </div>

            <table class="tabla" id="tablaNotas2B">
                <thead>
                    <tr>
                        <th>Estudiante</th>
                        <th>Área</th>
                        <th>Trimestre</th>
                        <th>Nota</th>
                        <th>Observación</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- TAREAS 2ºA -->
        <section id="a-tareas" class="card">
            <h2>Tareas - 2ºA</h2>
            <p class="info">Listado general de tareas vigentes del paralelo 2ºA.</p>

            <table class="tabla" id="tablaTareas2A">
                <thead>
                    <tr>
                        <th>Fecha asignación</th>
                        <th>Fecha entrega</th>
                        <th>Área</th>
                        <th>Descripción</th>
                        <th>Materiales</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>25/11/2025</td>
                        <td>27/11/2025</td>
                        <td>Comunicación</td>
                        <td>Escribir 3 oraciones sobre su familia.</td>
                        <td>Cuaderno, lápiz</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- TAREAS 2ºB -->
        <section id="b-tareas" class="card">
            <h2>Tareas - 2ºB</h2>
            <p class="info">Listado general de tareas vigentes del paralelo 2ºB.</p>

            <table class="tabla" id="tablaTareas2B">
                <thead>
                    <tr>
                        <th>Fecha asignación</th>
                        <th>Fecha entrega</th>
                        <th>Área</th>
                        <th>Descripción</th>
                        <th>Materiales</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>26/11/2025</td>
                        <td>28/11/2025</td>
                        <td>Matemática</td>
                        <td>Resolver 5 ejercicios de suma y resta.</td>
                        <td>Cuaderno, lápiz, borrador</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ASISTENCIA -->
        <section id="asistencia" class="card">
            <h2>Asistencia - 2ºA y 2ºB</h2>
            <p class="info">Ejemplo de estructura de registro de asistencia.</p>

            <table class="tabla">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Estudiante</th>
                        <th>Paralelo</th>
                        <th>Estado</th>
                        <th>Observación</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>25/11/2025</td>
                        <td>Juan Pérez</td>
                        <td>2ºA</td>
                        <td>Asistió</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>25/11/2025</td>
                        <td>Ana García</td>
                        <td>2ºB</td>
                        <td>Falta</td>
                        <td>Sin justificar</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- COMUNICADOS -->
        <section id="comunicados" class="card">
            <h2>Comunicados</h2>
            <ul>
                <li>Reunión de padres de familia del paralelo 2ºA – 30/11/2025 a horas 18:00.</li>
                <li>Entrega de libretas del 1º trimestre – Fecha por confirmar.</li>
            </ul>

            <div class="galeria">
                <!-- Imágenes de comunicados (cuando las agreguen) -->
            </div>
        </section>

        <!-- MATERIAL DE APOYO -->
        <section id="material" class="card">
            <h2>Material de apoyo</h2>
            <ul>
                <li>Guías de lectura y escritura.</li>
                <li>Fichas de operaciones básicas de matemática.</li>
                <li>Enlaces a videos educativos seleccionados por los docentes.</li>
            </ul>
        </section>

        <!-- PREGUNTAS FRECUENTES -->
        <section id="faq" class="card">
            <h2>Preguntas frecuentes (FAQ)</h2>

            <details>
                <summary>¿Debo crear una cuenta para acceder?</summary>
                <p>No. Solo necesita el código de acceso entregado por la unidad educativa.</p>
            </details>

            <details>
                <summary>¿Cada cuánto se actualizan las notas?</summary>
                <p>Las notas generales se actualizan por trimestre, y en algunos casos con avances parciales.</p>
            </details>

            <details>
                <summary>¿Qué hago si veo un error en los datos?</summary>
                <p>Comuníquese con los docentes por los canales oficiales de la unidad educativa.</p>
            </details>

            <details>
                <summary>¿Puedo compartir esta página?</summary>
                <p>Se recomienda compartir el enlace solo con madres, padres o tutores autorizados de la comunidad educativa.</p>
            </details>
        </section>

    </div>

    <footer>
        San Pio X Plataforma Escolar · 2º Año A y B · Desarrollado por William &amp; Franklin
    </footer>
</div>

<!-- JAVASCRIPT -->
<script>
// Códigos de acceso (cámbialos si deseas)
const CODIGO_DOCENTE = "DOCENTE2025";
const CODIGO_FAMILIA = "FAMILIA2025";

let rolActual = null;

// Datos de notas (ejemplos; reemplaza por tus estudiantes reales)
const datosNotas2A = [
    { alumno: "Juan Pérez",   area: "Comunicación", trimestre: "1º", nota: 85, obs: "Buen avance en lectura" },
    { alumno: "Juan Pérez",   area: "Matemática",   trimestre: "1º", nota: 80, obs: "Resuelve operaciones básicas" },
    { alumno: "María López",  area: "Comunicación", trimestre: "1º", nota: 90, obs: "Buena comprensión lectora" },
    { alumno: "María López",  area: "Matemática",   trimestre: "1º", nota: 88, obs: "Participa con seguridad" }
];

const datosNotas2B = [
    { alumno: "Carlos Rojas", area: "Ciencias Naturales", trimestre: "1º", nota: 88, obs: "Muestra curiosidad científica" },
    { alumno: "Carlos Rojas", area: "Comunicación",       trimestre: "1º", nota: 82, obs: "Mejora en lectura" },
    { alumno: "Ana García",   area: "Comunicación",       trimestre: "1º", nota: 92, obs: "Excelente expresión oral" },
    { alumno: "Ana García",   area: "Matemática",         trimestre: "1º", nota: 89, obs: "Buen razonamiento lógico" }
];

function obtenerListaAlumnos(datos) {
    const nombres = datos.map(d => d.alumno);
    return Array.from(new Set(nombres)).sort();
}

function llenarSelectAlumnos(selectId, datos) {
    const select = document.getElementById(selectId);
    select.innerHTML = "";
    const opcionTodos = document.createElement("option");
    opcionTodos.value = "";
    opcionTodos.textContent = "Todos los estudiantes";
    select.appendChild(opcionTodos);

    obtenerListaAlumnos(datos).forEach(nombre => {
        const opt = document.createElement("option");
        opt.value = nombre;
        opt.textContent = nombre;
        select.appendChild(opt);
    });
}

function renderTablaNotas(tablaId, datos, filtroNombre = "") {
    const tbody = document.querySelector(`#${tablaId} tbody`);
    tbody.innerHTML = "";

    const datosFiltrados = filtroNombre
        ? datos.filter(d => d.alumno === filtroNombre)
        : datos;

    if (datosFiltrados.length === 0) {
        const fila = document.createElement("tr");
        const celda = document.createElement("td");
        celda.colSpan = 5;
        celda.textContent = "No hay registros para mostrar.";
        fila.appendChild(celda);
        tbody.appendChild(fila);
        return;
    }

    datosFiltrados.forEach(d => {
        const fila = document.createElement("tr");

        const cAlumno = document.createElement("td");
        cAlumno.textContent = d.alumno;
        fila.appendChild(cAlumno);

        const cArea = document.createElement("td");
        cArea.textContent = d.area;
        fila.appendChild(cArea);

        const cTrim = document.createElement("td");
        cTrim.textContent = d.trimestre;
        fila.appendChild(cTrim);

        const cNota = document.createElement("td");
        cNota.textContent = d.nota;
        fila.appendChild(cNota);

        const cObs = document.createElement("td");
        cObs.textContent = d.obs || "";
        fila.appendChild(cObs);

        tbody.appendChild(fila);
    });
}

// Manejo de acceso
document.getElementById("btnIngresar").addEventListener("click", () => {
    const codigo = document.getElementById("codigoAcceso").value.trim();
    const mensajeError = document.getElementById("mensajeError");
    const rolSeleccionado = document.querySelector('input[name="rol"]:checked').value;

    let valido = false;

    if (rolSeleccionado === "docente" && codigo === CODIGO_DOCENTE) {
        rolActual = "docente";
        valido = true;
    } else if (rolSeleccionado === "familia" && codigo === CODIGO_FAMILIA) {
        rolActual = "familia";
        valido = true;
    }

    if (!valido) {
        mensajeError.textContent = "Código incorrecto. Por favor, verifique e intente nuevamente.";
        return;
    }

    mensajeError.textContent = "";
    document.getElementById("pantalla-acceso").style.display = "none";
    document.getElementById("app").style.display = "block";

    const textoRol = document.getElementById("textoRol");
    if (rolActual === "docente") {
        textoRol.textContent = "Acceso: Docente / Administrador";
    } else if (rolActual === "familia") {
        textoRol.textContent = "Acceso: Madre, padre o tutor";
    }
});

// Inicializar tablas y filtros
document.addEventListener("DOMContentLoaded", () => {
    llenarSelectAlumnos("filtroAlumno2A", datosNotas2A);
    renderTablaNotas("tablaNotas2A", datosNotas2A);
    document.getElementById("filtroAlumno2A").addEventListener("change", (e) => {
        renderTablaNotas("tablaNotas2A", datosNotas2A, e.target.value);
    });

    llenarSelectAlumnos("filtroAlumno2B", datosNotas2B);
    renderTablaNotas("tablaNotas2B", datosNotas2B);
    document.getElementById("filtroAlumno2B").addEventListener("change", (e) => {
        renderTablaNotas("tablaNotas2B", datosNotas2B, e.target.value);
    });
});
</script>

</body>
</html>
